# Information Gathering (OBJ 2.1)

# Information Gathering in Penetration Testing

## Overview
Information gathering, also known as reconnaissance or footprinting, is the initial step in the second phase of penetration testing. This phase involves systematically locating, gathering, identifying, and recording information about the target organization, including hosts, servers, systems, and employees. This information is essential for planning attacks and exploits in subsequent phases.

## Methods of Information Gathering

### Passive Reconnaissance
- **Internet Research:** Using search engines, press releases, job postings, resumes, and social media to gather information.
- **Social Engineering:** Techniques like phishing (email), vishing (voice calls), and in-person deception to trick users into revealing information.
- **Dumpster Diving:** Searching through an organization's trash to find useful information like usernames, phone lists, and organizational charts.
- **Email Harvesting:** Collecting email addresses using specialized search queries.

### Information Collected
- **Contact Information:** Phone numbers, email addresses, and names.
- **Organizational Details:** Positions, security-related information, and system details.
- **Technical Information:** Operating systems (Windows, Linux), web servers (Apache, IIS), and other infrastructure details.

## Documentation and Collaboration
- **Cataloging Findings:** Use internal wikis or spreadsheets to document and share gathered information with the team.
  - **Spreadsheet Example:** 
    - **Technique Used:** LinkedIn Resume
    - **Assets Identified:** Types of servers (e.g., 200 Linux servers running Red Hat and SUSE Linux)
    - **Tools for Enumeration:** Nmap scans for identifying public-facing servers
    - **Findings and Results:** Document server IPs and open ports (e.g., 66.55.44.33 with ports 80, 443, and 22 open)
    - **Next Steps:** Plan further tests like banner grabbing or vulnerability scans

## Example Scenario
- **Finding Information from Resumes:** Analyze a found resume for details about the organization's infrastructure.
  - **Example Resume Details:** 
    - **Current Position:** Linux Administration Systems Analyst at ABC Energy
    - **Technical Details:** Maintains over 200 Linux servers, uses VMware's ESXi servers for virtualization

## Team Collaboration
- **Role Specialization:** Different team members focus on specific tasks, increasing efficiency.
  - **Information Gathering Ninja:** Focus on gathering data.
  - **Enumeration and Vulnerability Scanning:** Other team members use the gathered data for further analysis.
  - **Custom Exploits:** Senior testers develop exploits based on findings.

By effectively gathering and documenting information during reconnaissance, penetration testing teams can enhance their efficiency and effectiveness in identifying and exploiting vulnerabilities.

#

# Open-Source Intelligence (OSINT) (OBJ 2.1)

# Open Source Intelligence (OSINT) in Penetration Testing

## Overview
Open Source Intelligence (OSINT) involves collecting and analyzing publicly available information to produce actionable intelligence. This data can be gathered from various sources during the passive reconnaissance phase of penetration testing.

## Sources of OSINT

### Internet and Public Records
- **Social Media, Blogs, Newspapers**
- **Governmental Records, Academic and Professional Publications**
- **Company Websites (e.g., About Us pages, Investor Relations portals)**

### Example: Press Releases
- **Actionable Intelligence:** Information on mergers or organizational changes can be used for social engineering attacks.
- **Physical Penetration Testing:** Knowledge of a merger can allow an attacker to impersonate employees from the merging company to gain physical access.

### Detailed OSINT Collection
- **Investor Relations Sites:** Provides detailed information on executives, their backgrounds, and contact information.
  - **Example:** Investors.Udemy.com contains tabs for press releases, financial information, and executive profiles.

### Job Listings and Metadata
- **Company About Us Pages:** Detailed info on company executives.
- **Investor Relations Sites:** Names, phone numbers, emails, and positions of key personnel.

### Social Media and Blogs
- **Workplace Culture and Tempo:** Understanding if employees are working remotely or in-office.
- **Employee Sentiment:** Insights into employee satisfaction and workplace dynamics.

### Physical Reconnaissance
- **Employee Habits:** Identifying places employees frequent can aid in physical penetration tests (e.g., cloning proximity badges at local bars).

## Using OSINT for Social Engineering
- **Social Engineering Attacks:** Leveraging gathered information for phishing, vishing, or in-person deception.
- **Crafting Whaling Emails:** Detailed emails targeting busy executives based on their profiles and habits.

## Cataloging and Analyzing Information
- **Documentation:** Use spreadsheets or internal wikis to organize collected data.
  - **Key Details to Record:**
    - Employee roles, job titles, and responsibilities
    - Teams and departments
    - Contact information (phone numbers, email addresses)
    - Technical infrastructure and security training programs
    - Employee and management mindset and relationships

### Example: Hybrid Password Cracking
- **Personal Information for Word Lists:** Using personal details (e.g., pet names, birthdates) to create word lists for password cracking.

## Conclusion
OSINT provides valuable insights that can be turned into actionable intelligence for penetration testing. By systematically gathering and analyzing publicly available information, penetration testers can enhance their reconnaissance efforts and effectively plan their engagement strategies.

#

# Social Media Scraping (OBJ 2.1)

### Leveraging Social Media for Open Source Intelligence

**Social Media as a Source of OSINT**
- Social media platforms such as Twitter, Facebook, LinkedIn, YouTube, Instagram, Reddit, and TikTok can reveal a wealth of information about an organization and its employees.
- Organizations often post marketing content, behind-the-scenes pictures, and videos that may unintentionally reveal sensitive information.

**Example of Information Disclosure**
- An employee's Instagram post might inadvertently display sensitive corporate documents on a computer screen in the background.

**Employee Accounts**
- Employees often have both professional and personal social media accounts. Personal accounts can reveal interests, behaviors, and even personally identifiable information.

**LinkedIn for OSINT**
- LinkedIn is a particularly valuable source of information:
  - **Company Page**: Offers insights into employee count, growth, and other key metrics.
  - **Insights Tab**: Provides data on workforce distribution and company growth rates, which can indicate potential security vulnerabilities during rapid expansion.
  - **Life Tab**: Shows company culture, employee testimonials, and photos.
  - **People Tab**: Lists employees, their locations, educational background, and roles, allowing for targeted research on specific individuals.
  - **Jobs Tab**: Reveals job postings that can indicate the company's technical stack and security posture.

**Example: Udemy on LinkedIn**
- **Company Insights**: 
  - Udemy has grown 62% in the past two years.
  - Major workforce areas include education and engineering.
- **Jobs Tab**:
  - Reveals technical infrastructure, such as AWS, GCP, VMware, Terraform, and more.
  - Confirms primary use of AWS for cloud services.

**Utilizing Job Postings**
- Job postings can reveal:
  - Department and team structures.
  - Technical capabilities and software architecture.
  - Security systems and tools in use.
- Example: Udemy's job postings reveal the use of AWS and GCP, indicating a multi-cloud infrastructure with a primary focus on AWS.

**Other Platforms for Job Postings**
- Monster, ZipRecruiter, Indeed, Glassdoor, and others also provide valuable information about a company's hiring needs and technical capabilities.

**Summary**
- Social media and job postings offer rich sources of open source intelligence.
- Detailed analysis of this information can assist in penetration testing and other security engagements by revealing organizational structures, technical stacks, and potential vulnerabilities.

#

# OSINT Tools (OBJ 2.1)

## Overview of OSINT Tools

Open-source intelligence (OSINT) tools are crucial during the reconnaissance phase of penetration testing. They help gather actionable intelligence from publicly available sources, allowing for more precise and targeted attacks. OSINT does not raise alerts at the target organization, as it relies solely on public data.

### Key OSINT Sources

- **Public Websites**: Includes the target's own website.
- **WHOIS Database**: Provides domain ownership details.
- **Public DNS Servers**: Offers information on DNS records, subdomains, and associated services.
- **Job Postings, Blogs, News Articles, Social Media**: Useful for gathering additional information.
- **SSL/TLS Certificates**: Can provide valuable technical details.

### Popular OSINT Tools

1. **Metagoofil**
   - **Purpose**: Searches metadata from public documents on a target’s website.
   - **Capabilities**: Extracts metadata from various file types like Word, Excel, and PDFs.
   - **Command Example**: `metagoofil -d apple.com -t doc,pdf -l 200 -n 50 -o applefiles -f results.txt`

2. **FOCA**
   - **Purpose**: Finds metadata and hidden information in documents.
   - **Capabilities**: Extracts details like GPS locations and email addresses.
   - **Platform**: Windows only; includes a graphical user interface.

3. **The Harvester**
   - **Purpose**: Gathers emails, subdomains, hosts, and other server-related data.
   - **Capabilities**: Uses search engines and social media for data collection.
   - **Command Example**: `theharvester -d udemy.com -l 250 -b google`

4. **Recon-ng**
   - **Purpose**: Web reconnaissance framework with various modules.
   - **Capabilities**: Conducts WHOIS queries, PGP key searches, and more.
   - **Platform**: Cross-platform; comes pre-installed in Kali Linux.

5. **Shodan**
   - **Purpose**: Searches for IoT devices and other internet-connected hardware.
   - **Capabilities**: Identifies devices with default passwords and unsecured webcams.
   - **Function**: Acts as a search engine for internet-connected devices.

6. **Censys**
   - **Purpose**: Searches for hosts and network configurations.
   - **Capabilities**: Offers a search interface, report generation, and SQL engine integration.
   - **Function**: Helps network defenders discover unknown assets and manage cloud sprawl.

7. **Maltego**
   - **Purpose**: Visualizes relationships between pieces of information.
   - **Capabilities**: Maps out connections between emails, social media profiles, and more.
   - **Function**: Automates querying of public data and provides graphical representations of relationships.

### Using OSINT Tools

- **Objective**: Gather information without directly connecting to the target’s servers.
- **Strategy**: Use tools to search publicly available data and analyze results for actionable intelligence.
