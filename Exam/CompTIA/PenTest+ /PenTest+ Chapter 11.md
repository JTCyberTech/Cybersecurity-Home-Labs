# CompTIA® PenTest+® Certification For Dummies®, 2nd Edition

# Chapter 11: Reporting and Communication

Learn about wehn and how to update customer on status of PenTest.
- Common remediation steps a customer can take to improve computer and network security of the company.
- Structure of PenTest report, how to deliver report to customer, what types of actions you should perform after the report has been delivered.

## Communicating During a PenTest

Small PenTest taking only a week or two may involve quick update meeting each morning before day starts.

Longer PenTest span over many months may have weekly status meetings with stakeholder.

- Must know who to communicate with during PenTest.
- Authorized person that allowed to commuciate with are determined during "planning and Scoping phase".

#

### Understaning Communication Paths

Individual you should know how to contact:
- Primary Contact: Person designated by customer as individual whom you should report progress of PenTest and any problems.
- Technical Contact: Person you should talk to if you have any technical issues such as needing to add your PenTest System to an approved list to get by security control if needed.
- Emergency Contact: Person you should contact should any major issue arise during PenTest.
  - Example: if system crashes while performing PenTest, you should contact the emergency contact person.
 
Be sure to document name, phone number, email address of each of contacts so you can get in touch when needed.

#

### Communication Triggers

- After determining `who` to communicate.
- Next is to determine `when` to communicate with these stakeholders.
  - Depending on the size of the PenTest but thhere are also events that occurs during PenTest that should cause you to immediately stop PenTest and talk to stakeholders.

Communication Trigger:
- Important events are known as communication triggers.
- Events that trigger you to communicate with stakeholder and get response from customer on how to proceed.

Type of Communication Triggers:
- Critical Finding
- Stages
- Indicators of a prior compromise (Indicator of Compromise [IOC])

#### Critical Findings

- First communciation trigger.
- Occur when you come across a critical or major vuln in system that has customer wide open to attack.
- This case: you do not wait to communicate this important finding to customer in the final report.
- Should stop PenTest immediately and talk to the stakeholder about the critical finding and determine how you are to proceed.


#### Status Reports

- Second communication trigger.
- Occurs at the end of each major stage of the PenTest.
- At the end of each stage of PenTest, you should meet with customer to communicate what is happening at each phase.

Example: 
- After scanning/enumeration of resources, you can let customer know you are now working on performing vuln scans of each system.
- Should be noted that during inital discussions during planning and scoping phase, customer may request status report at regular intervals, completion of each stage as well.


#### Indicators of Prior Compromise (IoC)

- When you come across evidence that shows indications that system has already been compromised during PenTest.
- When you come across system that has evidence it was compromised, its critical to stop PenTest and inform stakeholder about security compromise
  - so they can decide on what action need to take.
- You are the PenTester, not security response team for company.
- Company's Computer Incident Response Team (CIRT) will invoke incident repsonse procedure to deal with security compromise.

Example:
- Come across a backdoor that was created on system that a hacker has planted to allow access into system at later time.


#

### Reasons for Communication

There are other reason beside "Critical Findings" and "Indicator of Compromise" to communicate with customer:
- Situational Awareness
- De-Escalation
- Deconfliction
- Identifying False Positives
- Criminal Activity


#### Situational Awareness

- Benefit of having regualr status update with customer, gives customer opportunity to update the PenTester on any business operations thhat may affect PenTest.

Example:
- Customer may make PenTest team aware of system maintence and scheduled downtime that is currently occurring.


#### De-Escalation

- If a certain phase of PenTest is affecting business operations, customer and PenTester can work together to de-escaalate the situation.
- Ensure business operations go back to normal

Example:
- While Assessing e-commerce site, you cause site to stop responding to clients, which affects business.
- This case: customer may agree to perform e-commerce site testing at different time when site activity is low.
- Customers may also choose to change the parameter of the PenTest and take a different approach with Testing in order to reduce or eliminate impact of PenTest.


#### Deconflication

- When performing PenTest, you may need to implement procedures to prevent security team from conflicting with PenTest.

Example:
- IT security team may block system that generate suspicious traffic from accessing network.
- When performing PenTest, your system may be flagged as being suspicious
- As a result, may be blocked.
- Its important to identify processes to help prevent this conflict between two teams.
  - Solution: Have IP address from PenTesting System whitelisted.

 
#### Identifying False Positives

- If findings appear odd or show as an ongoing compromise
- May initiate communication with customer to verify whether result are inaccurate or false positives.
- False Positive: results appear true but they should be false.

Example:
- Suppose when performing a port scan, it appears that all systems have port 3389 open
- but actually a relay port on firewall redirecting all 3389 traffic to one server that does actually have it open.


#### Criminal Activity

- Comes across evidence of criminaly activity.
- Should report directly to customer to discuss findings.

#

### Goal Reprioritization and Presentation of Findings

- Another reason to meet regularly with customer > if PenTest team comes across new info that may potentially change the goals and priorities of PenTest.
- Goals and priorities are identified during Planning and Scoping phase.
  - Any changes to them would require acceptance from stakeholders.
 
Example:
- Initial focused on SQL server and web application that accesses SQL server.
- After Performing vuln scan on both systems, realized that IIS web server hosting the web app has major vuln compared to SQL server.
- This case: the company may ask you to focus specifically on web app and its vuln.

Presentation:
- Also will meet with sponsoring agent to perform presentation of findings.
- A meeting that summarizes result of PenTest, what systems are vulnerable, what remediation step should be taken.

#

## Findings and Remediations

Expected to understand
- Common Vulnerablities found on system when performing PenTest
- Know typical remediation steops you would recommend for those findings.


### Shared Local Administrator Credentials

Finding: 
- Common security issue: using same password for local admin account of each system.
- Includes admin password on workstations, servers, network devices.

Remediation:
- Recommend for devices with same admin password is to use different passwords on each of the devices.
- Can use randomize credentials tool, generates random password for accounts.
- In Microsoft environment, can use MS's Local Admin Password Solutions (LAPS) tool to manage password for local account of domain-joined computers.
- LAPS is a free tool from MS that will set every admin password to unique password.
  - Also enables you to look up the admin password for any given system.
 
#

### Weak password Complexity

Finding: 
- If number of user accounts use weak passwords.
- Weak passwords are easy to crack with dictionary attack tools and present a huge security violation to network.

Remediations:
- Recommend Org tighten its password policies and enforce minimum password requirements.
- Within password policy:
  - Ensure policy keep track of at least 12 passwords in user's password history
  - Requires regular changes of passwords
  - Enforces a minimum password length of 8 characters
  - Requires password complexity that forces users to use mix of upper and lowercase characters, number, symbols.
  - Applciation can also use password filters that check to ensure strong passwords are being used when users change their passwords.
 
#

### Plain Text Passwords

Finding:
- Many applications store password in files or in database in plain text format.
- Huge security concern, hackers can get either physical or remote access to system and ope nthe file or database.
  -  they will know passwords used by all user of application.
-  Many people also resuse same password across systems and applications.

Remediation:
- Encrypt the password.
- Have dev of application rewrite portion of code that store and retrieve password in encrypted format.
- All sensitive data such as password and customer info; credit card number or SSN should be encrypted on disk and in transit (travels across network).

#

### No MFA

Finding:
- Probelm with Internet App, cloud-based is they allow you to log on from anywhere.
- Meaning: if hackers can figure your password, they can access to internet or cloud baed app and all your data within app.
- Example of internet app includes: web-based email client, cloud environments; Office 365, DNS management tool, social media app.

Remediation:
- Add an extra layer of security to cloud-based app.
- Can implement MFA.
- MFA: hacker must know or have access to some other factor involved in authentication.
- Common factor = smartphone.

#

### SQL Injection

Finding:
- Most web app connect to database to retrieve data that is displayed on web pages.
- Common method hackers use to exploit web app is to perform SQLi attack
  - Hackers inputting commands to server.
  - Hackers will ensure that database commands submitted will help hacker gain access to site or perform mailicous changes on price on products listed.
 
Remediation:
- First step: `Sanitize User Input`.
  - Mean: Before trying to process data submitted to sitem you should sanitize or clean the data.
  - Sanitizing data involves validating input and removing any illegal character that could cause security issues: `--`.
- Also prevent SQLi attack by using: `Parameterize Quries`.
  - Database code stored on database server that website dev call upon that accepts parameters as input.
 
#

### Unnecessary Open Services

Finding:
- During Scanning annd Enumeration Phase: Identify what ports are open on system due to service running.
- Orgs have unnecessary software and services installed on their systems, which opens system up to attack.
- The more software installed/services running = Larger attack surface for hacker.

Remediation:
- Report identify "system hardening" as remeditation step for unnecessary software and services running.
- System Hardening:
  - Removal of unneeded software and disabling unnecessary service on system.
  - Removal of unnecessary user accounts
  - Limiting communication channels with firewalls
  - Encrypting communication with secure protocol such as IPSec.
 
#

## Focusing Your Remediation Strategies



  

#

## For The Exam

- Emergency event = critical findings, determine one of the company's assest has been compromised.
  - Communication Path: Important to identify who to approach when such event occur during PenTest
- Types of Communication Trigger: Critical findings, Status Report (Stage), Indicator of Compromise (IoC)
  - With Critical Findings and indicators of prior compromise > Stop PenTest and present info to stakeholder.
