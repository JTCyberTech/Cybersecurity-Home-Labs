# CompTIA® PenTest+® Certification For Dummies®, 2nd Edition

# Chapter 9: Common Penetration Testing Tools

Learn:
- Common PenTest tools
- Their Use Cases
- Introduced to each tools

#

## Understanding Use Cases for Common PenTest Tools

### Reconnaissance

Reconnaissance Tools
- First use case - Information gathering uses reconnaissance tools.
- Two types of reconnaissance: Passive and Active.

Passive Reconniassance:
- Discovering public info available on internet about the Org.
- OSINT to gather info: hosts on internet email addresses, contact names.
  - theHarvester, Maltego, Recon-ng, Shodan, Censys.


Active Reconniassance:
- Engaging with target systems to discover info
- Domain Name System (DNS) lookup, Whois, nslookup, dig
- DNS enumeration with DNSRecon Python scipt.


### Enumeration

Enumeration 
- Another Case Use, also known as scanning and enumeration.
- Use Enumeration tools when discovering detailed info about system on entwork.

Common Tool for Enumeration:
- Nmap: Network Mapper, scanner that perform ping sweeps to tell what systems are up and running,
  - port scans identify ports that are open on each system/ Version of software running on ports.
  - Can also do OS fingerprinting, discover type of OS running on system.
 

### Vulnerability Scanning

Vuln Scanning
- See types of vuln exist on system such as:
  - best practices not being followed
  - Missing patches
  - Misconfiguration of system
 - Great technique to discover weaknesses on a system in order to plan types of attacks you will perform against system during PenTest.
 - Nessus = vuln scanner
 - Nikto and w3af = open source scanners used to identify vuln in websites.


### Credential Attacks

Credential Attacks
- Also known as password attacks
- Used to help discover password for user acc.
- If able to obtain copy of user acc database or password hashe, could use offline password-cracking tools to crack the passwords.
  - Benefit of offline password cracking = Not governed by acc lockout policy if doing cracking offline.
 
Another Techni 
- Brute-Forcing, password cracking service, try every possible password to determine what password is.
- Non-technical: Dumper Diving, going thru garbage to see useful info.


### Persistence

Persistence
- After gaining access to system, Attacker should be sure they can maintain access to system.
  - Can create another method of maintain entry.
 
Ways to maintain access to system:
- Schedule jobs: Create scheduled job or program that would create connection from compromised system to your PenTest system.
- Fake Service: Install fake background service on compromised system, Which allows you to remotely connect to system.
- Trojans: Plant a trojan virus on system so that you can make a connection to trojan port to gain access.
- New Admin Account: Create a new user acc on system to act as backdoor and place that user acc into admin group so you can gain admin access with it.


### Configuration Compliance

Configuration Compliance 
- If PenTest is for compliance reason, need to know specific requirement for environment for compliance.
  - To ensure to test those elements.
 
Example: 
- If company processes credit card info, company must follow list of requirements to ensure security of systems that process and store that info.
- Require system are each on a separate network segment.
- Performing Compliance-based assessment for company, would want to assess network config and ensure credit card processing and storage system are on their own network segment.


### Evasion

Evasion
- Avoids detections
- Limit use of aggressive scans and implement delays between scan attempts to avoid triggering any intrusion detection systems.
- Classic Indication: Same IP address tries to connect to different port on target system over short period of time.


### Decompilaltion and Debugging

Decompilation and Debugging
- Use Decompliation tool to decompile program to review code and look for security weaknesses
- Use Debugger to step thru code and better understand flow of code and what it is doing.

Tools:
- Immunity Debugger: For reverse engineering malware
- GNU Debugger
- GDB (Linux Debugger)
- WinDbg (Windows Debugger)


### Forensics

Forensics
- Use forensics tools to analyse contents of system to identify activity against system.
- Gives capabilities to capture and analyze the contents of memory, hard drive, USB sticks
- Autospy = forensic analysis tool.


### Software Assurance

Software Assurance Testing Tools
- Used to assess security of software application to ensure software is not vuln to attacks that allow hackers to gain access to system.
- PenTester should test software app running on systems to see if there are vuln that can be exploited.

Common Software Assurance Testing Tools:
- Fuzzing
- SAST
- DAST


Fuzzing
- Method to identify poor coding practices in software
- Can use Fuzzer application to send large amount of input into app being tested to see how it responds.
- Fuzzing: process of creating variations of input and sending altered input into app.
- Peach Fuzzer, American Fuzzy Lop (AFL) = Fuzzing tools


SAST
- Static Application Security Testing
- Occurs when security tester review source code of app to ensure dev are following secure coding practices.
- Performed as white box test, given source code to review
- Not running code, just reviewing code.


DAST
- Dynamic Application Security Testing
- PenTester runs app and test functionality of app and how it responds to different input
- Security tester will test app by attempting malicious input such as SQLi code or other forms of malicious injection code.

#

## Looking at Common PenTest Tools

### Scanners 

Scanners
- Different types of Scanners; Some scans for open port, others find vuln within system

Types:
- Nmap
- Nikto and w3af
- Nessus
- OpenVAS
- SQLmap
- Open Security Content Automation Protocol (OSCAP)
- Wapiti
- WPScan
- Brakeman
- Scout Suite


#### Nmap

Nmap
- Used to locate system on network and determines open ports on those systems.
- Identify software running on ports and types of OS being used.


#### Nikto and w3af

Nikto
- Open-source Web App vuln scanner
- Nikto perform number of test to determine if web app is vuln to different types of attacks.

To perform Nikto scan against system:
- `nikto -h <IP_or_FQDN>`
- Performing web vuln scan on system with IP or 192.168.1.3
- If web app was using SSL, use: `nikto -h192.168.1.3 -ssl`.

![image](https://github.com/user-attachments/assets/74d4dbd9-a418-4f4b-ba15-e7f14589f310)


w3af
- Another open-source web application vuln scanner
- Web Application Attack and Framework, assess security of web servers.
- Can select different types of vuln to check for by selecting appropriate plug-ins and then starting scan.

![image](https://github.com/user-attachments/assets/d09b6a21-1c16-44e8-854b-603826c1912c)


#### Nessus

Nessus
- Commerical tool used for Vuln scanning of system on network.
- Scan for wide range of vuln, also scan number of different types of devices for those vuln.


#### OpenVAS

OpenVAS
- Open-source vuln scanner
- Perform vuln scan in number of different ways, including authenticated and unauthenticated testing.


#### SQLmap

SQLmap
- Program help automate SQL injection attack against web app you are authorized to test in PenTest.
- To perform automated test with SQLmap, you need to pass in the URL to be tested
  - `sqlmap -u http://192.168.1.3/product.php?id=5`
- The request to page accepts parameter as input and SQLmap will try a number of malicious input on ID parameter.

![image](https://github.com/user-attachments/assets/bcfb57b4-8b74-472f-b871-e0db420aa989)



#

## For the Exam

- Fuzzing = sending altered input into application to test how it handles different forms of input.
- Nikto = Web app vuln scanner
- SQL = Automated SQLi attack tool
- Nessus = System vuln scanner use to identify weaknesses in a product.












