# Robert Karamagi 

## Exam # 1

17, 18, 21, 27, 29, 35, 37, 49, 50, 56, 66, 67, 69, 70, 72, 74, 75

### Remember:

Nmap
- nmap 192.168.1.0/24 = 192.168.1.1-254; /24 command scan every system on the subnet from .1 to .254 .
- nmap 192.168.1.1 = nmap 192.168.1.1 -sS; both conduct SYN port scan on target.
- nmap 192.168.1.1 -A enable OS detection, service version detection, Script scanning, Traceroute to remote host.
- 

Format
- Normalization of data: aggregate all data generated by all of the different tools and process you used during PenTest. Goal: Make it client can read the aggregate date and understand it.
- De-confliction: Process of communicating between client and Pentester to determine whether an attack detected during a PenTest is coming from an authorized PenTester or real attack from hacker.
- De-escalation: Process of communicating between client and PenTester to cease exploits used during the PenTest because it might be effecting the network traffic.
- Supply Chain: Assessment conducted on an Org's Vendors to ensure their network is secure and can't be used as a pivot point to compromise the Org itself.
- Threat Modeling: Determine type of threat you want to emulate during PenTest.


Tool
- SSLyze: PenTest tool that is commonly used to perform certificate inspection.
- Aircrack-ng: Used to discover wireless network in range and then crack their encryption.
- John the Ripper and Cain and Abel can be used to crack pw from offline database of user account, such as shadow and passwd files from Linux system.
- OWASP ZAP and Nessus can be used to scan a target for vulnerabilities.
- SQLmap: bruteforce crack the password for SQL database.
- nmap and hping utilities can be used to actively enumerate and fingerprint target systems.

WiFi
- Monitor Mode: When need to eavesdrop on radio frequency emission and capture data from wireless network, wireless network interface on laptop must be set to monitor mode.
- Promiscuous mode: Used for wired network and allows capture traffic on network segment that the device is connected to.

NetBIOS
- Port 139 TCP
- NetBIOS: Transport protocol used by Windows Systems to share resources, such as shared folders or printer.
- NBTSTAT can be used to footprint the device when Port 139 is open.

Mitigation Strategy
- People-based: Hiring additional IT staff member who have experience with cyber security.
- Process-based: Forbidding employees from usingexternal cloud based services; Google Drive. Requiring multiple sign offs on payout.
- Technological-based: Implementing mantrap at the main entrance. Implementing directional wireless antennas and manipulating AP power levels to prevent signal emanatin.
- Scalable-based:

Fragile Internal Server System
- Using -T2 or -T1 is good.
- Using -T0 would throttle the scan too much, making it take an inordinate amount of time to complete. (Throttling = intentionally limiting speed or amount of data transfer.)

Container:
- Used to create isolated environment like VM.
- Applications running within a container environment may not be detectable by traditional vulnerability scans.
- Shares much of the base OS with the container host, so vulnerabilities associated with the base OS of the container host may be inherited by its container.

Attacks: 
- Repeating Attack: Attack captures the target's wireless network radio signal and rebroadcasts it with high gain to extend its range.
- SQL injection: UNION SELECT Username. Password FROM Users;
- Session hijacking: Able to exploit session key (cookie) to gain access to user's session. Can be used for web app where HTTP cookie is used to maintain session. Even tho site may use TLS/SSL to encrypt authentication credentials, session cookie is many times not encrypted. If it is captured, it allows tester to hijack user's session.
- Redirect attack: User are redirected to a fake website by phishing emails.

Scripting: Insert a value of FS1 into an element named HostName within an associative array named Target
-  Bash Script: `Target[HostName] = FS1`: array_name[element_name] = value
-  Ruby Script: `_Target = {"HostName" => "FS1"}`: _array_name = {"element_name" => "value"}
-  PowerShell: `$Target.HostName = 'FS1'`: $array_name.element_name = "value"
-  Python: `Target = [{"HostName":"FS1"}]`: array_name = [{"element_name":"value"}]
-  Ruby Script: Make comparison between two variable to test they are equal: `==`

Issues:
- `rcp` utility does not use encryption to protect network transmissions, meaning authentication credentials to remote system and data being transferred are sent as plain text.
  - Should use `scp` utility to copy files between servers. It is part of SSH suite of utilities, which encrypts authentication information as well as data transfer between systems.
- Wireless network can be hardened by using MAC address filtering which will prevent unauthorized systems from connecting to the wireless network.
  - MAC address can be spoof.
- Wireless network can be further hardened by using 802.1x authentication which eliminates the weakness associated with preshared key by implementing separate authentication server; RADIUS server.
