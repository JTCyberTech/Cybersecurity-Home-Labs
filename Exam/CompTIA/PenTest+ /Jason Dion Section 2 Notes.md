# Risk (OBJ 1.2)

Keyword: 

Risk = Vulnerabilities x Threat

- Risk: Probability that a threat will actually be a threat.
- Vulnerability: Any weakness in the system design or implementation.
- Threat: Anything/Anyone that can cause harm, loss, damage or compromise to IT systems.

Risk Management: Find ways to minimize the likelihood of outsome from occuring, to achieve desired outcome.

- Inherent Risk: A risk identified but no mitigation factors are applied.
  - Hurricane, natural disasters.
- Residual Risk: A risk calculated after applying mitigation and security control.
  - Zero day exploit.
- Risk Exception: Created risk due to an exemption being granted or failure to comply with corporate policy.
  - CEO doesn't want to have password change every 90 days, make IT switch to change password every year.
 
#

# Risk Handling (OBJ 1.2)

4 ways to deal with risk: Avoid, transfer, mitigate, and accept.

- Risk Avoidance: Stops risky activity or chooses a less risky option.
  - 100 PC, 15 running Windows7 (end of life/unsupported software); We can take those 15 PC offline or upgrade to Windows10.
  - Basically eliminates hazards, activities and exposures with potential negative effect us.
 
- Risk Transfer: Pass risk to third party to deal with; Insurance company.
  - Company worried their server being destroyed by flood; can purchase insurance to transfer all risk of losing all assest (server) over third party insurer.
 
- Risk Mitigation: Minimizes the risk to an acceptable level which an organization can accept.
  - Running server that's identified 5 critical, 2 high, 4 med, 17 low vulnerabilities; Policy > if server have critical vulnerability should taken offline, if we can patch those 5 critical vulnerabilities, they might be willing to accept the residual risk from high, med, low vuln.
 
- Risk Acceptance: Accepts the current level of risk and the costs associated with it if that risk were to take place. (If asset is low cost; or impact in organization would be low)
  - We might purchase insurance for a server, but not a laptop because it's lower cost.
 
Risk Appetite: Amount of risk organization is willing to accept to keep normal functioning before action is necessary to reduce risk level.
- Aka: Risk Attitude/ Risk Tolerance
- Risk appetite: Generic level of risk org is willing to accept
- Risk Tolerance: Max risk org is willing to take about a specific identified risk.

Tradeoffs: 
- More security = more cost, reduce the usability of that system.

#

# Control (OBJ 1.2)

## Access Control 

Access Controlis breakdown into 7 categories: 

- Compensative, corrective, detective, deterrent, directive, preventive, recovery.

Compensative Access Control: Used in place of a primary access control measure to mitigate given risk.
- Deployed to enforce and support a security policy.
- Require two system administrators download a copy of the database to external device to minimize risk of trusted insider stealing information.
- Dual control: Considered - Administrative/managerial control.

Corrective Access Control: Reduces the effect of an undesirable event or attack.
- Fire extinguishers, antivirus solutions.

Detective Control: Detects an ongoing attack and notifies the proper personnel.
- Alarm system, closed circuit TV system, honeypot.

Deterrent Control: Discourages any violation of security policies, both by attackers and insiders.
- Go further than detective control; it detect the event and also ensure consequences for those actions.
- Poster of "CCTV camera in use"; Recording of CCTV is detectiver control; the sign itself is deterrent control.

Directive Control: Used to force compliance with the security policy and practices within the organization.
- Common directive control = AUP or Acceptable User Policy: define what behaviors are/ not allowed on company's network systems.

Preventive Control: Seek to prevent or stop an attack from occuring in the first place.
- Password protection, security badges, antivirus software, IPS.

Recovery Control: Used to recover device after an attack.
- Disaster recovery plans, backups and continuity of operation plans.

## Defense in Depth

To achieve Defense in Depth: implement thru three broad categories of access controls: Administrative, Logical, and Physical.

Administrative Access Control: (Managerial Control) implemented to manage org's personnel and assets thru security policies, standards, procedures, guidelines, and baselines.
- Proper data classificatin and labeling, supervision of personnel and security awareness training.

Logical Access Control: (Technical) Implement thru hardware or software and used to prevent or restrict access to system.
- Firewalls, IDS, IPS, authentication schemes, encryption, new protocols, auditing or monitoring software, biometrics.

Physical Access Control: Implemented to protect org's personnel and their facilities.
- Fences, locks, security badges, proximity cards for entering buildings, guards, access control vestibules, biometrics.

#

# PenTest Methodologies (OBJ 1.2)

Methology: System of methods used in a particular area of study or activity.
Methology (PenTest): Sytematic approach a pentester uses before, during and after a penetration test assessment or engagement.

4 Steps in CompTIA PenTest+: 
- Planning and Scoping
- Information Gathering and Vulnerability Identification (Vulnerability Scanning)
- Attack and Exploit
- Report and Communication

Adversary Emulation: Mimic the tactics, techniques and procedures of a real world threat actor in a penetration test.

MITRE ATT&CK Framework: knowledge based listing and explaining of common adversary tactics and technique that are observed in the real world.

#

# PenTest Standards (OBJ 1.2)

OWASP: Works to improve the security of software; Securing the web.
- Created the framework for testing during each phase of the software development process.

Open-Source Security Testing Methodology Manual (OSSTMM)
- Methodology for thorough security testing (OSSTMM audit).
- Focus on Consistency, repeatabiity, fact based auditing.
- Open Source; Auditing, validation and verification by using facts.

Information System Security Assessment Framework (ISSAF)
- Created by OISSG, linking individual testing steps with relevant PenTest Tools.
- Goal: Provide a comprehansive guide when conudcting a penetration test.

Penetration Testing Execution Standard (PTES)
- Developed to cover all aspects of PenTest.
- Phases from Initial communication, intelligence gathering, threat modeling, vulnerability analysis, exploitation, post exploitation and reporting.
- Goal: create a new standard that provided both business and security service providers with a common language and scope.

#

# Planning a Test (OBJ 1.2)

Major Factors:
- Time, Cost, Quality
These factors compete; prioritizing one often affects the others.

## Planning Considerations:

Target Audience: Understand the size and business of the organization.
- E.g., small local store vs. large multinational bank.

Objectives: Define the goal of the penetration test.
- Compliance, due diligence, product release, etc.

Resources Required: Determine necessary resources and costs.
- Onsite vs. remote testing, internal vs. external assessments.

Compliance-Based Assessments: Follow specific checklists for regulatory requirements.
- E.g., PCI DSS scan.

Communication Plan: Outline who to communicate with and how often.
- Trusted agent for deconfliction, frequency of updates.

Reporting Requirements: Decide on the format and detail level of the final report.
- Executive summary, detailed vulnerability analysis, prioritization.

Technical Constraints: Identify any limitations on what can be tested.
- Database servers, ICS/SCADA systems, etc.

Comprehensiveness: Agree on the depth of the engagement.
- Full vulnerability assessment vs. finding one entry point.


## Key Points

- Assessments are snapshots of current security posture.
- New vulnerabilities can emerge after the assessment.
- Clear communication and agreement on scope, resources, and constraints are essential.

#

# Legal Concepts (OBJ 1.1)

Key Points for Conducting a Penetration Test

## Written Permission

Obtain written permission from the target organization to distinguish ethical hackers from unauthorized hackers.

This permission, often called a "get out of jail free card," should include:

- Names of authorized individuals and organizations.
- Specific networks, hosts, and applications to be tested.
- Validity period and data handling techniques.
- Reporting guidelines and communication protocols.
- Termination guidelines.

## Client Awareness

Inform the client of potential risks and system impacts during testing.
- E.g., exploits may disrupt services like authentication servers.

## Legal Contracts

1. Statement of Work (SOW)
- Details tasks, deliverables, responsibilities, and payment schedules.
- Requires change orders for scope adjustments.

2. Master Service Agreement (MSA)
- Framework for recurring work with a client, with terms agreed upfront.
- Speeds up contracting with short SOWs for specific engagements.

3. Service-Level Agreement (SLA)
- Defines service commitments, metrics, duties, and breach penalties.
- Often used for ongoing security services or remediation.

4. Non-Disclosure Agreement (NDA)
- Ensures confidentiality of sensitive information.
- Both parties agree to protect each other's proprietary information.

## Confidentiality and Data Handling

Understand and protect sensitive data throughout the engagement.

Ensure data is encrypted at rest, in transit, and in processing.

Securely wipe systems of client data post-assessment.

#

# Regulatory Compliance (OBJ 1.1)

## Regulatory Compliance Considerations for Penetration Testers

Penetration testers must be aware of various laws and regulations to perform compliance-based assessments effectively. While the CompTIA PenTest+ exam focuses on GDPR and PCI DSS, other regulations might also appear in the exam.

### Key Regulatory Compliance Considerations

#### HIPAA (Health Insurance Portability and Accountability Act)
- **Scope**: Healthcare providers, facilities, insurance companies
- **Key Point**: Protects patient information (PHI)

#### SOX (Sarbanes-Oxley Act)
- **Scope**: Publicly traded U.S. corporations
- **Key Point**: Ensures strict financial reporting and accountability

#### GLBA (Gramm-Leach-Bliley Act)
- **Scope**: Financial institutions (banks, insurance companies, etc.)
- **Key Point**: Protects personally identifiable information (PII) and restricts sharing financial data with third parties

#### FISMA (Federal Information Security Management Act)
- **Scope**: Federal agencies
- **Key Point**: Requires comprehensive information security programs

#### Federal Privacy Act of 1974
- **Scope**: U.S. government agencies
- **Key Point**: Protects PII collected by federal agencies

#### FERPA (Family Educational Rights and Privacy Act)
- **Scope**: Educational institutions receiving U.S. Department of Education funding
- **Key Point**: Protects student educational records

#### Economic Espionage Act of 1996
- **Scope**: Organizations with trade secrets
- **Key Point**: Protects trade secrets and penalizes misuse of encryption

#### COPPA (Children's Online Privacy Protection Act)
- **Scope**: Websites and services targeting children under 13
- **Key Point**: Regulates data collection from children under 13

### GDPR (General Data Protection Regulation)
- **Scope**: Organizations dealing with EU residents
- **Key Points**:
  - Requires informed consent for data collection and processing
  - Provides the right to be forgotten
  - Requires minimal data collection necessary for the purpose
  - Mandates breach notifications within 72 hours
  - Applies globally to companies doing business with EU citizens

### PCI DSS (Payment Card Industry Data Security Standard)
- **Scope**: Organizations handling credit card information
- **Key Points**:
  - Requires secure infrastructure and strong access control
  - Mandates continuous monitoring and updated anti-malware protections
  - Enforces regular vulnerability scans
  - Categorizes merchants based on transaction volume with specific compliance requirements

- **Affects**: Organizations collecting, storing, or processing credit card information
- **Requirements**:
  - Secure infrastructure and dedicated appliances for monitoring and prevention
  - Best practices for password management, user training, and phishing prevention
  - Continuous monitoring and updated anti-malware protections
  - Strong access control mechanisms and least privilege principle
  - Routine vulnerability scans every 90 days or after major infrastructure changes
  - Compliance categories based on transaction volume:
    - Level 1: Over six million transactions/year
    - Level 2: One to six million transactions/year
    - Level 3: 20,000 to one million transactions/year
    - Level 4: Less than 20,000 transactions/year
  - Level 1 merchants require external auditor (QSA) assessments and a Report on Compliance (ROC)
  - Level 2-4 merchants can conduct self-assessments


### Summary
Penetration testers need to understand a wide range of regulatory compliance requirements, including but not limited to HIPAA, SOX, GLBA, FISMA, and others. Knowledge of GDPR and PCI DSS is essential for ensuring organizations meet necessary security and privacy standards.

